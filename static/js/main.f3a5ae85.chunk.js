(this.webpackJsonplogivations=this.webpackJsonplogivations||[]).push([[0],{162:function(e,t,a){e.exports=a(291)},171:function(e,t,a){},172:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),u=a(20),s=a(152),l=a(34),i=a(33),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EXPENCES":return[].concat(Object(l.a)(e),[t.expense]);case"REMOVE_EXPENCES":return e.filter((function(e){return e.date!==t.date}));case"ADD_EXPENSES_BY_DATE":return e.map((function(e){return e.date===t.date?{date:t.date,goods:[].concat(Object(l.a)(e.goods),[t.data])}:e}));default:return e}},p=a(49),m={field:"date",order:"ACS"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY":return e.field===t.field?Object(p.a)(Object(p.a)({},e),{},{order:"ACS"===e.order?"DESC":"ACS"}):Object(p.a)(Object(p.a)({},e),{},{field:t.field});default:return e}},f=a(134),b=a(135),_=a(136),v=function(e){return e.expenses},O=Object(i.combineReducers)({expenses:d,sort:E}),N=Object(_.a)(v,(function(e){return e.sort}),(function(e,t){var a=Object(l.a)(e),n="ACS"===t.order?1:-1;switch(t.field){case"date":return a.sort((function(e,t){return(Date.parse(new Date(e.date.split("/").reverse().join("-")))-Date.parse(new Date(t.date.split("/").reverse().join("-"))))*n}));default:return a}})),j=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")||""):{},h=Object(i.createStore)(O,j,Object(f.composeWithDevTools)(Object(i.applyMiddleware)(b.a)));h.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(h.getState()))}));var g=h,y=(a(171),a(22)),S=(a(172),a(298)),w=[{key:"USD",text:"USD",value:"USD"},{key:"EUR",text:"EUR",value:"EUR"},{key:"PLN",text:"PLN",value:"PLN"},{key:"UAH",text:"UAH",value:"UAH"}],x=function(){var e=Object(u.b)(),t=Object(u.c)(v),a=Object(n.useState)(new Date),c=Object(y.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)(""),i=Object(y.a)(l,2),d=i[0],p=i[1],m=Object(n.useState)(""),E=Object(y.a)(m,2),f=E[0],b=E[1],_=Object(n.useState)(""),O=Object(y.a)(_,2),N=O[0],j=O[1],h=function(a){if(a.preventDefault(),""!==o&&(null!==d||""!==d)&&""!==N&&""!==f.replace(/\s/g,"")){var n={id:Math.random()+1,goods:[{amount:+d,currency:N,product:f}],date:o};t.some((function(e){return e.date===o}))?e(function(e,t){return{type:"ADD_EXPENSES_BY_DATE",date:e,data:t}}(o,n.goods[0])):e({type:"SET_EXPENCES",expense:n}),s(""),p(""),j(""),b("")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{type:"date",className:"NewExpense__input",value:o,onChange:function(e){s(e.target.value)}}),r.a.createElement("input",{type:"number",className:"NewExpense__input",placeholder:"add amount",value:d,onChange:function(e){p(e.target.value)}}),r.a.createElement(S.a,{clearable:!0,options:w,selection:!0,value:N,placeholder:"Choose",onChange:function(e,t){e.preventDefault(),j(t.value)}}),r.a.createElement("input",{type:"text",className:"NewExpense__input",placeholder:"add product",value:f,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"NewExpense__button button",onClick:h},"Add")))},C=function(e){var t=e.currencyOptions,a=e.selectedCurrency,n=e.onChangeCurrency,c=e.total;return r.a.createElement("div",{className:"CurrencyRow"},r.a.createElement("div",{className:"CurrencyRow__row"},r.a.createElement("p",{className:"CurrencyRow__text-total"},"total: ",c),r.a.createElement("select",{value:a,onChange:n,className:"CurrencyRow__select"},t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))},k=function(){var e=Object(u.b)(),t=Object(u.c)(N);return r.a.createElement(r.a.Fragment,null,t.map((function(t){return r.a.createElement("div",{key:t.id,className:"NewExpense__list"},r.a.createElement("p",{className:"NewExpense__date"},r.a.createElement("span",{className:"NewExpense__date-text"},t.date)),t.goods.map((function(e){return r.a.createElement("div",{key:e.product,className:"NewExpense__paragraphs"},r.a.createElement("p",{className:"NewExpense__item"},e.product),r.a.createElement("p",{className:"NewExpense__item"},e.amount,r.a.createElement("span",{className:"NewExpense__currency"},e.currency)))})),r.a.createElement("button",{type:"button",className:"NewExpense__button-item",onClick:function(){return e({type:"REMOVE_EXPENCES",date:t.date})}},"Clear"))})))};var D=function(){var e=Object(u.c)(N),t=Object(u.b)(),a=Object(n.useState)([]),c=Object(y.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(),d=Object(y.a)(i,2),p=d[0],m=d[1],E=Object(n.useState)(),f=Object(y.a)(E,2),b=f[0],_=f[1],v=Object(n.useState)(0),O=Object(y.a)(v,2),j=O[0],h=O[1];return Object(n.useEffect)((function(){if(null!=p&&null!=b){var t=e.map((function(e){return e.goods.reduce((function(e,t){return e+t.amount/b[t.currency]}),0)*b[p]})).reduce((function(e,t){return e+t}),0);h(Math.round(t))}}),[p,b,e]),Object(n.useEffect)((function(){fetch("https://api.exchangeratesapi.io/latest").then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof Object.keys(e.rates)&&Object.keys(e.rates).length>0){var t=Object.keys(e.rates)[0];m(t),s([e.base].concat(Object(l.a)(Object.keys(e.rates)))),_(e.rates)}}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__header"},r.a.createElement("h1",{className:"App__head"},"Expenses"),r.a.createElement(x,null)),r.a.createElement("div",{className:"App__list"},r.a.createElement("button",{className:"NewExpense__button-list button",onClick:function(){return t({type:"SORT_BY",field:"date"})}},"list"),r.a.createElement(k,null)),r.a.createElement(C,{currencyOptions:o,selectedCurrency:p,onChangeCurrency:function(e){return m(e.target.value)},total:j}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(u.a,{store:g},r.a.createElement(s.a,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.f3a5ae85.chunk.js.map